# Vue哲学

## 声明式框架

* 声明式编程：关注“做什么”
* 命令式编程：关注“如何做”

### 声明式编程的优点

::: details

```md
**提高开发效率**
 eg: 往数组末尾插入一条数据，声明式编程就得经过四个步骤。
 1. 获取父节点DOM 元素。
 2. 创建子节点DOM元素
 3. 修改子节点内容
 4. 将子节点插入父节点末尾
 使用声明式编程，我们只要定义好数据和声明好模板，不用关心更新DOM的这个过程。
 1. 定义数据 
 2. 声明模板 
 3. 更新数据
```

:::


## 采用虚拟DOM

### 解决直接操作 DOM的性能瓶颈

* 直接操作DOM (如修改样式、结构) 会触发浏览器的 重排（Reflow）和重绘（Repaint）,频繁操作会导致性能下降。
* 虚拟DOM 是对真实 DOM 的抽象表示，操作它不会触发浏览器 渲染流程，仅在最终 更新时 批量同步到 真实DOM。

传统更新页面，拼接一个完整的字符串innerHTML全部重新渲染。

### 跨平台能力

抽象渲染层。虚拟DOM 是与平台无关的 JavaScript 对象，使得Vue 可以在浏览器中渲染为真实DOM,
也可以在非浏览器环境（如 SSR、Native应用中）渲染为 其他结构（如字符串、原生组件）。

### 代价

虚拟 DOM 的创建需要额外内存和 CPU 时间（但在现代设备上可忽略）。

## 区分编译时和运行时

编译时，把template变成虚拟节点，运行时，把虚拟dom变成真实Dom

### 编译时

将开发者编写的 模板（Template） 或 JSX 转换为 可执行的 JavaScript 代码（通常是渲染函数或虚拟 DOM 结构）。

### 运行时

执行编译生成的代码，处理 数据响应式、虚拟 DOM 比对、组件生命周期 等动态逻辑。

## Vue3设计思想

* Vue3更注重模块上的拆分。Vue2无法单独使用部分模块，需要引入完整的Vue.js。 Vue3中的模块之间耦合度低，模块可以独立使用。
* Vue2中很多方法挂载到了实例上，即便没有使用也会被打包。 Vue3通过构建工具Tree-shaking机制实现按需加载，减少用户打包后体积。
* Vue3允许自定义渲染器，扩展能力强。